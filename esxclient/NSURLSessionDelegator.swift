//
//  NSURLSessionDelegator.swift
//  esxclient
//
//  Created by Scott Goldman on 4/7/16.
//  Copyright Â© 2016 scottjg. All rights reserved.
//

import Foundation

// XXX just ignores the ssl certificates for now. vmware servers
//     typically have autogenerated self-signed certs
class NSURLSessionDelegator: NSObject, URLSessionDelegate {
    func urlSession(_ session: URLSession, didReceive challenge: URLAuthenticationChallenge, completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -> Void) {
        completionHandler(Foundation.URLSession.AuthChallengeDisposition.useCredential, URLCredential(trust: challenge.protectionSpace.serverTrust!))
    }
}

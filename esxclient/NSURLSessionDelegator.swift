//
//  NSURLSessionDelegator.swift
//  esxclient
//
//  Created by Scott Goldman on 4/7/16.
//  Copyright Â© 2016 scottjg. All rights reserved.
//

import Foundation

// XXX just ignores the ssl certificates for now. vmware servers
//     typically have autogenerated self-signed certs
class NSURLSessionDelegator: NSObject, NSURLSessionDelegate {
    func URLSession(session: NSURLSession, didReceiveChallenge challenge: NSURLAuthenticationChallenge, completionHandler: (NSURLSessionAuthChallengeDisposition, NSURLCredential?) -> Void) {
        completionHandler(NSURLSessionAuthChallengeDisposition.UseCredential, NSURLCredential(forTrust: challenge.protectionSpace.serverTrust!))
    }
}